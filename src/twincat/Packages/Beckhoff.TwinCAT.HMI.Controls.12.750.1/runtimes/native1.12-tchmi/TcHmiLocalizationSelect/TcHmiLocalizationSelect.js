var TcHmi;!function(TcHmi){let Controls;!function(Controls){let Beckhoff;!function(Beckhoff){class TcHmiLocalizationSelect extends TcHmi.Controls.System.TcHmiControl{constructor(element,pcElement,attrs){super(element,pcElement,attrs),this.__localizationReaderChangeEventDestroyFunction=null,this.__onLocalizationDefinitionChangedDestroyFunction=null,this.__userInteractionFinishedEventDestroyFunction=null,this.__onResolverForLocalizationMappingWatchCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("localizationMapping"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__localizationReaderMapping)||(this.__localizationReaderMapping=data.value||null,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LocalizationMapping"}),this.__processLocalizationMapping()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLocalizationSelect, Id="+this.getId()+", Attribute=SrcData] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))}}__previnit(){super.__previnit(),this.__elementTemplateRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiLocalizationSelect-template")[0];let combobox=Controls.get(this.getId()+"_TcHmiCombobox");if(!combobox||!this.__elementTemplateRoot)throw new Error("Invalid Template.html");this.__combobox=combobox}__init(){super.__init(),this.__displayLocalizations()}__attach(){super.__attach(),this.__selectActiveLocalization(),this.__localizationReaderChangeEventDestroyFunction=TcHmi.EventProvider.register("onLocaleChanged",this.__onLocalizationChanged()),this.__userInteractionFinishedEventDestroyFunction=TcHmi.EventProvider.register(this.__id+"_TcHmiCombobox.onUserInteractionFinished",this.__onUserInteractionFinished()),TCHMI_ENGINEERING&&(this.__onLocalizationDefinitionChangedDestroyFunction=TcHmi.EventProvider.register("onConfigChanged",(evt,param)=>{tchmi_equal(param.configNew.languages,param.configOld.languages)||this.__displayLocalizations()}))}__detach(){var _a;super.__detach(),this.__localizationReaderChangeEventDestroyFunction&&(this.__localizationReaderChangeEventDestroyFunction(),this.__localizationReaderChangeEventDestroyFunction=null),this.__userInteractionFinishedEventDestroyFunction&&(this.__userInteractionFinishedEventDestroyFunction(),this.__userInteractionFinishedEventDestroyFunction=null),TCHMI_ENGINEERING&&(null===(_a=this.__onLocalizationDefinitionChangedDestroyFunction)||void 0===_a||_a.call(this),this.__onLocalizationDefinitionChangedDestroyFunction=null)}destroy(){this.__keepAlive||super.destroy()}__displayLocalizations(){let locales=TcHmi.Locale.getRegisteredLocales(),localeData=[];locales.forEach((locale,itemId)=>{var _a,_b;let match=null===(_a=this.__localizationReaderMapping)||void 0===_a?void 0:_a.find(map=>map.code===locale),localeListItem={text:null!==(_b=null==match?void 0:match.text)&&void 0!==_b?_b:locale,id:itemId,value:locale};localeData.push(localeListItem)}),this.__combobox.setSrcData(localeData)}__selectActiveLocalization(){var _a;let locale=TcHmi.Locale.get(),srcData=this.__combobox.getSrcData();if(locale&&(null==srcData?void 0:srcData.length)){for(let i=0;i<srcData.length;i++)if(srcData[i].value===locale)return void this.__combobox.setSelectedIndex(i);const localeArray=locale.toLowerCase().split("-");for(let i=0;i<srcData.length;i++)if((null===(_a=srcData[i].value)||void 0===_a?void 0:_a.toLowerCase().split("-")[0])===localeArray[0])return void this.__combobox.setSelectedIndex(i)}this.__combobox.setSelectedIndex(null)}__onLocalizationChanged(){return event=>{this.__selectActiveLocalization()}}__onUserInteractionFinished(){return event=>{let newLocalization=this.__combobox.getSelectedValue();this.setIsEnabled(!1),this.__combobox.setSrcData(["%l%Control::TcHmi.Controls.Beckhoff.TcHmiLocalizationSelect::Combobox_Loading%/l%"]),this.__combobox.setSelectedIndex(0),TcHmi.Locale.load(newLocalization,data=>{this.__displayLocalizations(),this.__selectActiveLocalization(),this.setIsEnabled(!0)})}}setLocalizationMapping(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("LocalizationMapping"));let resolverInfo=this.__objectResolvers.get("localizationMapping");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue);this.__objectResolvers.set("localizationMapping",{resolver:resolver,watchCallback:this.__onResolverForLocalizationMappingWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForLocalizationMappingWatchCallback)})}getLocalizationMapping(){return this.__localizationReaderMapping}__processLocalizationMapping(){this.__displayLocalizations()}
/**
                 * Sets the background value and calls the associated process function (processBackground).
                 * @param valueNew
                 * @preserve (Part of the public API)
                 */setBackgroundColor(valueNew){this.__combobox.setBackgroundColor(valueNew)}
/**
                * Returns the current background value.
                * @preserve (Part of the public API)
                */getBackgroundColor(){return this.__combobox.getBackgroundColor()}setTextHorizontalAlignment(valueNew){this.__combobox.setTextHorizontalAlignment(valueNew)}getTextHorizontalAlignment(){return this.__combobox.getTextHorizontalAlignment()}setContentPadding(valueNew){this.__combobox.setContentPadding(valueNew)}getContentPadding(){return this.__combobox.getContentPadding()}setDropDownHighlightColor(valueNew){this.__combobox.setDropDownHighlightColor(valueNew)}getDropDownHighlightColor(){return this.__combobox.getDropDownHighlightColor()}setDropDownHighlightTextColor(valueNew){this.__combobox.setDropDownHighlightTextColor(valueNew)}getDropDownHighlightTextColor(){return this.__combobox.getDropDownHighlightTextColor()}setDropDownToggleButtonBackgroundColor(valueNew){this.__combobox.setDropDownToggleButtonBackgroundColor(valueNew)}getDropDownToggleButtonBackgroundColor(){return this.__combobox.getDropDownToggleButtonBackgroundColor()}setDropDownToggleButtonArrowColor(valueNew){this.__combobox.setDropDownToggleButtonArrowColor(valueNew)}getDropDownToggleButtonArrowColor(){return this.__combobox.getDropDownToggleButtonArrowColor()}setTextColor(valueNew){this.__combobox.setTextColor(valueNew)}getTextColor(){return this.__combobox.getTextColor()}setTextFontSize(valueNew){this.__combobox.setTextFontSize(valueNew)}getTextFontSize(){return this.__combobox.getTextFontSize()}setTextFontSizeUnit(valueNew){this.__combobox.setTextFontSizeUnit(valueNew)}getTextFontSizeUnit(){return this.__combobox.getTextFontSizeUnit()}setTextFontFamily(valueNew){this.__combobox.setTextFontFamily(valueNew)}getTextFontFamily(){return this.__combobox.getTextFontFamily()}setTextFontStyle(valueNew){this.__combobox.setTextFontStyle(valueNew)}getTextFontStyle(){return this.__combobox.getTextFontStyle()}setTextFontWeight(valueNew){this.__combobox.setTextFontWeight(valueNew)}getTextFontWeight(){return this.__combobox.getTextFontWeight()}setDataHeight(valueNew){this.__combobox.setDataHeight(valueNew)}getDataHeight(){return this.__combobox.getDataHeight()}setMaxListHeight(valueNew){this.__combobox.setMaxListHeight(valueNew)}getMaxListHeight(){return this.__combobox.getMaxListHeight()}setDropDownStyle(valueNew){this.__combobox.setDropDownStyle(valueNew)}getDropDownStyle(){return this.__combobox.getDropDownStyle()}setDropDownFontSize(valueNew){this.__combobox.setDropDownFontSize(valueNew)}getDropDownFontSize(){return this.__combobox.getDropDownFontSize()}setDropDownFontSizeUnit(valueNew){this.__combobox.setDropDownFontSizeUnit(valueNew)}getDropDownFontSizeUnit(){return this.__combobox.getDropDownFontSizeUnit()}setDropDownFontFamily(valueNew){this.__combobox.setDropDownFontFamily(valueNew)}getDropDownFontFamily(){return this.__combobox.getDropDownFontFamily()}setDropDownFontStyle(valueNew){this.__combobox.setDropDownFontStyle(valueNew)}getDropDownFontStyle(){return this.__combobox.getDropDownFontStyle()}setDropDownFontWeight(valueNew){this.__combobox.setDropDownFontWeight(valueNew)}getDropDownFontWeight(){return this.__combobox.getDropDownFontWeight()}setDropDownHorizontalAlignment(valueNew){this.__combobox.setDropDownHorizontalAlignment(valueNew)}getDropDownHorizontalAlignment(){return this.__combobox.getDropDownHorizontalAlignment()}setDropDownVerticalAlignment(valueNew){this.__combobox.setDropDownVerticalAlignment(valueNew)}getDropDownVerticalAlignment(){return this.__combobox.getDropDownVerticalAlignment()}setDropDownTextColor(valueNew){this.__combobox.setDropDownTextColor(valueNew)}getDropDownTextColor(){return this.__combobox.getDropDownTextColor()}setDropDownBackgroundColor(valueNew){this.__combobox.setDropDownBackgroundColor(valueNew)}getDropDownBackgroundColor(){return this.__combobox.getDropDownBackgroundColor()}}Beckhoff.TcHmiLocalizationSelect=TcHmiLocalizationSelect}(Beckhoff=Controls.Beckhoff||(Controls.Beckhoff={}))}(Controls=TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiLocalizationSelect","TcHmi.Controls.Beckhoff",TcHmi.Controls.Beckhoff.TcHmiLocalizationSelect);